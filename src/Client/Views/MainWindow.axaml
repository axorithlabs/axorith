<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:Axorith.Client.ViewModels"
        x:Class="Axorith.Client.Views.MainWindow"
        x:DataType="vm:ShellViewModel"
        Icon="/Assets/icon.ico"
        Title="Axorith"
        Width="1600"
        Height="900"
        
        ExtendClientAreaToDecorationsHint="True"
        ExtendClientAreaChromeHints="PreferSystemChrome"
        ExtendClientAreaTitleBarHeightHint="40"
        
        Background="{DynamicResource SystemRegionBrush}"
        WindowStartupLocation="CenterScreen"
        
        RenderOptions.TextRenderingMode="SubpixelAntialias"
        RenderOptions.BitmapInterpolationMode="HighQuality"> 
    
    <Window.Styles>
        <Style Selector="Window[WindowState=Maximized]">
            <Setter Property="Padding" Value="8"/>
        </Style>
    </Window.Styles>

    <Panel>
        <Grid RowDefinitions="Auto,*">
            <Border x:Name="TitleBar"
                    Height="40"
                    Background="Transparent"
                    BorderBrush="#333333"
                    BorderThickness="0,0,0,1"
                    IsHitTestVisible="False">
                
                <Grid ColumnDefinitions="*,Auto,*">
                    <Border Grid.Column="0" />

                    <TextBlock Text="Axorith"
                               Foreground="#E0E0E0"
                               FontSize="14"
                               FontWeight="SemiBold"
                               LetterSpacing="0.5"
                               VerticalAlignment="Center"
                               HorizontalAlignment="Center"
                               Grid.Column="1"/>
                    
                    <Border Grid.Column="2" />
                </Grid>
            </Border>
            
            <ContentControl Grid.Row="1"
                            Content="{Binding Content}"
                            Margin="0"/>
        </Grid>

        <ItemsControl ItemsSource="{Binding Toasts}"
                      VerticalAlignment="Top"
                      HorizontalAlignment="Right"
                      Margin="0,60,30,0"
                      IsHitTestVisible="False"
                      ZIndex="999">
            <ItemsControl.ItemsPanel>
                <ItemsPanelTemplate>
                    <StackPanel Spacing="10" />
                </ItemsPanelTemplate>
            </ItemsControl.ItemsPanel>
            <ItemsControl.ItemTemplate>
                <DataTemplate>
                    <Border Background="#1E1E1E"
                            BorderBrush="#333"
                            BorderThickness="1"
                            CornerRadius="6"
                            Padding="0"
                            BoxShadow="0 6 15 0 #80000000"
                            MinWidth="300"
                            MaxWidth="400"
                            Margin="0,0,0,10">
                        <Grid ColumnDefinitions="5, *">
                            <Border Grid.Column="0" 
                                    Background="{Binding Type, Converter={StaticResource NotificationTypeToBrushConverter}}" 
                                    CornerRadius="6,0,0,6" 
                                    VerticalAlignment="Stretch"/>
                            
                            <StackPanel Grid.Column="1" Margin="16,14,16,14" Spacing="4">
                                <TextBlock Text="{Binding Title}"
                                           Foreground="#FFFFFF"
                                           FontSize="14"
                                           FontWeight="Bold"
                                           TextWrapping="Wrap"/>
                                
                                <TextBlock Text="{Binding Body}"
                                           Foreground="#CCCCCC"
                                           FontSize="13"
                                           FontWeight="Normal"
                                           TextWrapping="Wrap"
                                           LineHeight="20"/>
                            </StackPanel>
                        </Grid>
                    </Border>
                </DataTemplate>
            </ItemsControl.ItemTemplate>
        </ItemsControl>
    </Panel>
</Window>